<!DOCTYPE html>
<html lang="en">
  <head>
    <title>  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
           Docs
        </a>
         (68% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/mxcl/PromiseKit">
            <img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="dash-feed://https%3A%2F%2Fpromisekit%2Eorg%2Freference%2Fdocsets%2F%2Exml">
            <img class="header-icon" src="img/dash.png"/>
            Install in Dash
          </a>
        </p>
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html"> Reference</a>
      <img class="carat" src="img/carat.png" />
        Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Guides.html">Guides</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="appendix.html">Appendix</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="commonpatterns.html">CommonPatterns</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="faq.html">FAQ</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="gettingstarted.html">GettingStarted</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="installation.html">Installation</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="objectivec.html">ObjectiveC</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="readme.html">README</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="troubleshooting.html">Troubleshooting</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Box.html">Box</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/EmptyBox.html">EmptyBox</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Guarantee.html">Guarantee</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Handlers.html">Handlers</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/PMKFinalizer.html">PMKFinalizer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Promise.html">Promise</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Resolver.html">Resolver</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SealedBox.html">SealedBox</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/__AnyPromise.html">__AnyPromise</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Global Variables.html">Global Variables</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Global Variables.html#/s:10PromiseKit4confAA16PMKConfigurationVvp">conf</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/CatchPolicy.html">CatchPolicy</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/LogEvent.html">LogEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/PMKError.html">PMKError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/PMKNamespacer.html">PMKNamespacer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/PMKUnambiguousInitializer.html">PMKUnambiguousInitializer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/Result.html">Result</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/Sealant.html">Sealant</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/AnyPromise.html">AnyPromise</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/DispatchQueue.html">DispatchQueue</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Error.html">Error</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Optional.html">Optional</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/PromiseKit.html">PromiseKit</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/PromiseKit/Result.html">â€“ Result</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Thread.html">Thread</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit5afteryAA9GuaranteeCyytG8Dispatch0E12TimeIntervalOF">after(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit5after7secondsAA9GuaranteeCyytGSd_tF">after(seconds:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit7firstly7executeAA0A0Cy1TQzGxyKXE_tAA8ThenableRzlF">firstly(execute:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit7firstly7executeAA9GuaranteeCyxGAFyXE_tlF">firstly(execute:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit4hangyxAA0A0CyxGKlF">hang(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit4raceyAA0A0Cy1TQzGSayxGAA8ThenableRzlF">race(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit4raceyAA0A0Cy1TQzGxd_tAA8ThenableRzlF">race(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit4raceyAA9GuaranteeCyxGAEd_tlF">race(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit4whenyAA9GuaranteeCyytGAEd_tF">when(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit4when9fulfilledAA0A0CySay1TQzGGSayxG_tAA8ThenableRzlF">when(fulfilled:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit4when9fulfilledAA0A0CyytGSayxG_tAA8ThenableRzyt1TRtzlF">when(fulfilled:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit4when9fulfilledAA0A0CyytGxd_tAA8ThenableRzyt1TRtzlF">when(fulfilled:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit4when9fulfilled_AA0A0Cy1TQz_AFQy_tGx_q_tAA8ThenableRzAaJR_r0_lF">when(fulfilled:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit4when9fulfilled__AA0A0Cy1TQz_AFQy_AFQy0_tGx_q_q0_tAA8ThenableRzAaKR_AaKR0_r1_lF">when(fulfilled:_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit4when9fulfilled___AA0A0Cy1TQz_AFQy_AFQy0_AFQy1_tGx_q_q0_q1_tAA8ThenableRzAaLR_AaLR0_AaLR1_r2_lF">when(fulfilled:_:_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit4when9fulfilled____AA0A0Cy1TQz_AFQy_AFQy0_AFQy1_AFQy2_tGx_q_q0_q1_q2_tAA8ThenableRzAaMR_AaMR0_AaMR1_AaMR2_r3_lF">when(fulfilled:_:_:_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit4when9fulfilled12concurrentlyAA0A0CySay7Element_1TQZGGx_SitStRzAA8ThenableAGRpzlF">when(fulfilled:concurrently:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit4when10guaranteesAA9GuaranteeCyytGSayAFG_tF">when(guarantees:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit4when8resolvedAA9GuaranteeCySayAA6ResultOyxGGGAA0A0CyxGd_tlF">when(resolved:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit4when8resolvedAA9GuaranteeCySayAA6ResultOyxGGGSayAA0A0CyxGG_tlF">when(resolved:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit4wrapyAA0A0CyxGyys5Error_pSg_xSgtcKXElF">wrap(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit4wrapyAA0A0CyxGyyxSg_s5Error_pSgtcKXElF">wrap(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit4wrapyAA0A0CyxGyyx_s5Error_pSgtcKXElF">wrap(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit4wrapyAA0A0CyxGyyxcKXElF">wrap(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:10PromiseKit4wrapyAA0A0CyytGyys5Error_pSgcKXEF">wrap(_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/CancellableError.html">CancellableError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/CatchMixin.html">CatchMixin</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/Thenable.html">Thenable</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/PMKConfiguration.html">PMKConfiguration</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            
            <p><img src="http://mxcl.dev/PromiseKit/public/img/logo-tight.png" alt="PromiseKit"></p>

<p><img src="https://img.shields.io/cocoapods/v/PromiseKit.svg?label=version" alt="badge-pod"> <img src="https://img.shields.io/badge/languages-Swift%20%7C%20ObjC-orange.svg" alt="badge-languages"> <img src="https://img.shields.io/badge/supports-CocoaPods%20%7C%20Carthage%20%7C%20SwiftPM-green.svg" alt="badge-pms"> ![badge-platforms] <a href="https://travis-ci.org/mxcl/PromiseKit"><img src="https://travis-ci.org/mxcl/PromiseKit.svg?branch=master" alt="Build Status"></a></p>

<hr>

<p>Promises simplify asynchronous programming, freeing you up to focus on the more
important things. They are easy to learn, easy to master and result in clearer,
more readable code. Your co-workers will thank you.</p>
<pre class="highlight swift"><code><span class="kt">UIApplication</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">isNetworkActivityIndicatorVisible</span> <span class="o">=</span> <span class="kc">true</span>

<span class="k">let</span> <span class="nv">fetchImage</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="o">.</span><span class="n">promise</span><span class="p">,</span> <span class="nv">with</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">compactMap</span><span class="p">{</span> <span class="kt">UIImage</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="nv">$0</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="p">}</span>
<span class="k">let</span> <span class="nv">fetchLocation</span> <span class="o">=</span> <span class="kt">CLLocationManager</span><span class="o">.</span><span class="nf">requestLocation</span><span class="p">()</span><span class="o">.</span><span class="n">lastValue</span>

<span class="n">firstly</span> <span class="p">{</span>
    <span class="nf">when</span><span class="p">(</span><span class="nv">fulfilled</span><span class="p">:</span> <span class="n">fetchImage</span><span class="p">,</span> <span class="n">fetchLocation</span><span class="p">)</span>
<span class="p">}</span><span class="o">.</span><span class="n">done</span> <span class="p">{</span> <span class="n">image</span><span class="p">,</span> <span class="n">location</span> <span class="k">in</span>
    <span class="k">self</span><span class="o">.</span><span class="n">imageView</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">image</span>
    <span class="k">self</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">"</span><span class="se">\(</span><span class="n">location</span><span class="se">)</span><span class="s">"</span>
<span class="p">}</span><span class="o">.</span><span class="n">ensure</span> <span class="p">{</span>
    <span class="kt">UIApplication</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">isNetworkActivityIndicatorVisible</span> <span class="o">=</span> <span class="kc">false</span>
<span class="p">}</span><span class="o">.</span><span class="k">catch</span> <span class="p">{</span> <span class="n">error</span> <span class="k">in</span>
    <span class="k">self</span><span class="o">.</span><span class="nf">show</span><span class="p">(</span><span class="kt">UIAlertController</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="n">error</span><span class="p">),</span> <span class="nv">sender</span><span class="p">:</span> <span class="k">self</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>PromiseKit is a thoughtful and complete implementation of promises for any
platform that has a <code>swiftc</code>. It has <em>excellent</em> Objective-C bridging and
<em>delightful</em> specializations for iOS, macOS, tvOS and watchOS. It is a top-100
pod used in many of the most popular apps in the world.</p>

<p><a href="https://codecov.io/gh/mxcl/PromiseKit"><img src="https://codecov.io/gh/mxcl/PromiseKit/branch/master/graph/badge.svg" alt="codecov"></a></p>
<h1 id='promisekit-6-released' class='heading'>PromiseKit 6 Released</h1>

<p>PromiseKit 6 has been released; <a href="http://mxcl.dev/PromiseKit/news/2018/02/PromiseKit-6.0-Released/">read the release notes and migration guide</a>.</p>
<h1 id='quick-start' class='heading'>Quick Start</h1>

<p>In your <a href="https://guides.cocoapods.org/syntax/podfile.html">Podfile</a>:</p>
<pre class="highlight ruby"><code><span class="n">use_frameworks!</span>

<span class="n">target</span> <span class="s2">"Change Me!"</span> <span class="k">do</span>
  <span class="n">pod</span> <span class="s2">"PromiseKit"</span><span class="p">,</span> <span class="s2">"~&gt; 6.0"</span>
<span class="k">end</span>
</code></pre>

<blockquote>
<p>The above gives an Xcode warning? See our <a href="Documentation/Installation.md">Installation Guide</a>.</p>
</blockquote>

<p>PromiseKit 6, 5 and 4 support Xcode 8.3, 9.x and 10.0; Swift 3.1,
3.2, 3.3, 3.4, 4.0, 4.1 and 4.2; iOS, macOS, tvOS, watchOS, Linux and Android; CocoaPods,
Carthage and SwiftPM; (<a href="https://travis-ci.org/mxcl/PromiseKit">CI Matrix</a>).</p>

<p>For Carthage, SwiftPM, etc., or for instructions when using older Swifts or
Xcodes, see our <a href="Documentation/Installation.md">Installation Guide</a>. We 
recommend <a href="https://github.com/Carthage/Carthage">Carthage</a>.</p>
<h1 id='professionally-supported-promisekit-is-now-available' class='heading'>Professionally Supported PromiseKit is Now Available</h1>

<p>Tidelift gives software development teams a single source for purchasing
and maintaining their software, with professional grade assurances from
the experts who know it best, while seamlessly integrating with existing
tools.</p>

<p><a href="https://tidelift.com/subscription/pkg/cocoapods-promisekit?utm_source=cocoapods-promisekit&utm_medium=referral&utm_campaign=readme">Get professional support for PromiseKit with TideLift</a>.</p>
<h1 id='promisekit-is-thousands-of-hours-of-work' class='heading'>PromiseKit is Thousands of Hours of Work</h1>

<p>This project is a labor of love: to the pursuit of making quality,
reusable, compartmentalized software that has general use to the wider
development community. It is a widely used project where every change,
fix and plan can have serious repercussions to its users and thus must
be carefully considered. If you use PromiseKit in your apps, please
consider supporting its development with a donation. Thank you.</p>

<p><a href="https://www.patreon.com/mxcl">
    <img src="https://c5.patreon.com/external/logo/become_a_patron_button@2x.png" width="160">
</a></p>
<h1 id='documentation' class='heading'>Documentation</h1>

<ul>
<li>Handbook

<ul>
<li><a href="Documentation/GettingStarted.md">Getting Started</a></li>
<li><a href="Documentation/CommonPatterns.md">Promises: Common Patterns</a></li>
<li><a href="Documentation/FAQ.md">Frequently Asked Questions</a></li>
</ul></li>
<li>Manual

<ul>
<li><a href="Documentation/Installation.md">Installation Guide</a></li>
<li><a href="Documentation/ObjectiveC.md">Objective-C Guide</a></li>
<li><a href="Documentation/Troubleshooting.md">Troubleshooting</a> (e.g., solutions to common compile errors)</li>
<li><a href="Documentation/Appendix.md">Appendix</a></li>
</ul></li>
<li><a href="https://mxcl.dev/PromiseKit/reference/">API Reference</a></li>
</ul>
<h1 id='extensions' class='heading'>Extensions</h1>

<p>Promises are only as useful as the asynchronous tasks they represent. Thus, we
have converted (almost) all of Appleâ€™s APIs to promises. The default CocoaPod
provides Promises and the extensions for Foundation and UIKit. The other
extensions are available by specifying additional subspecs in your <code>Podfile</code>,
e.g.:</p>
<pre class="highlight ruby"><code><span class="n">pod</span> <span class="s2">"PromiseKit/MapKit"</span>          <span class="c1"># MKDirections().calculate().then { /*â€¦*/ }</span>
<span class="n">pod</span> <span class="s2">"PromiseKit/CoreLocation"</span>    <span class="c1"># CLLocationManager.requestLocation().then { /*â€¦*/ }</span>
</code></pre>

<p>All our extensions are separate repositories at the <a href="https://github.com/PromiseKit">PromiseKit organization</a>.</p>
<h2 id='i-don-39-t-want-the-extensions' class='heading'>I don&rsquo;t want the extensions!</h2>

<p>Then donâ€™t have them:</p>
<pre class="highlight ruby"><code><span class="n">pod</span> <span class="s2">"PromiseKit/CorePromise"</span><span class="p">,</span> <span class="s2">"~&gt; 6.0"</span>
</code></pre>

<blockquote>
<p><em>Note:</em> Carthage installations come with no extensions by default.</p>
</blockquote>
<h2 id='choose-your-networking-library' class='heading'>Choose Your Networking Library</h2>

<p>Promise chains commonly start with a network operation. Thus, we offer
extensions for <code>URLSession</code>:</p>
<pre class="highlight swift"><code><span class="c1">// pod 'PromiseKit/Foundation'  # https://github.com/PromiseKit/Foundation</span>

<span class="n">firstly</span> <span class="p">{</span>
    <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="o">.</span><span class="n">promise</span><span class="p">,</span> <span class="nv">with</span><span class="p">:</span> <span class="k">try</span> <span class="nf">makeUrlRequest</span><span class="p">())</span><span class="o">.</span><span class="nf">validate</span><span class="p">()</span>
    <span class="c1">// ^^ we provide `.validate()` so that eg. 404s get converted to errors</span>
<span class="p">}</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span>
    <span class="k">try</span> <span class="kt">JSONDecoder</span><span class="p">()</span><span class="o">.</span><span class="nf">decode</span><span class="p">(</span><span class="kt">Foo</span><span class="o">.</span><span class="k">self</span><span class="p">,</span> <span class="nv">with</span><span class="p">:</span> <span class="nv">$0</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="p">}</span><span class="o">.</span><span class="n">done</span> <span class="p">{</span> <span class="n">foo</span> <span class="k">in</span>
    <span class="c1">//â€¦</span>
<span class="p">}</span><span class="o">.</span><span class="k">catch</span> <span class="p">{</span> <span class="n">error</span> <span class="k">in</span>
    <span class="c1">//â€¦</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">makeUrlRequest</span><span class="p">()</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">URLRequest</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">rq</span> <span class="o">=</span> <span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
    <span class="n">rq</span><span class="o">.</span><span class="n">httpMethod</span> <span class="o">=</span> <span class="s">"POST"</span>
    <span class="n">rq</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Content-Type"</span><span class="p">)</span>
    <span class="n">rq</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Accept"</span><span class="p">)</span>
    <span class="n">rq</span><span class="o">.</span><span class="n">httpBody</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">JSONEncoder</span><span class="p">()</span><span class="o">.</span><span class="nf">encode</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">rq</span>
<span class="p">}</span>
</code></pre>

<p>And <a href="http://github.com/PromiseKit/Alamofire-">Alamofire</a>:</p>
<pre class="highlight swift"><code><span class="c1">// pod 'PromiseKit/Alamofire'  # https://github.com/PromiseKit/Alamofire-</span>

<span class="n">firstly</span> <span class="p">{</span>
    <span class="kt">Alamofire</span>
        <span class="o">.</span><span class="nf">request</span><span class="p">(</span><span class="s">"http://example.com"</span><span class="p">,</span> <span class="nv">method</span><span class="p">:</span> <span class="o">.</span><span class="n">post</span><span class="p">,</span> <span class="nv">parameters</span><span class="p">:</span> <span class="n">params</span><span class="p">)</span>
        <span class="o">.</span><span class="nf">responseDecodable</span><span class="p">(</span><span class="kt">Foo</span><span class="o">.</span><span class="k">self</span><span class="p">)</span>
<span class="p">}</span><span class="o">.</span><span class="n">done</span> <span class="p">{</span> <span class="n">foo</span> <span class="k">in</span>
    <span class="c1">//â€¦</span>
<span class="p">}</span><span class="o">.</span><span class="k">catch</span> <span class="p">{</span> <span class="n">error</span> <span class="k">in</span>
    <span class="c1">//â€¦</span>
<span class="p">}</span>
</code></pre>

<p>Nowadays, considering that:</p>

<ul>
<li>We almost always POST JSON</li>
<li>We now have <code>JSONDecoder</code></li>
<li>PromiseKit now has <code>map</code> and other functional primitives</li>
<li>PromiseKit (like Alamofire, but not raw-URLSession) also defaults to having callbacks go to the main thread</li>
</ul>

<p>We recommend vanilla <code>URLSession</code>. It uses fewer black boxes and sticks closer to the
metal. Alamofire was essential until the three bulletpoints above became true,
but nowadays it isnâ€™t really necessary.</p>
<h1 id='support' class='heading'>Support</h1>

<p>Please check our <a href="Documentation/Troubleshooting.md">Troubleshooting Guide</a>, and
if after that you still have a question, ask at our <a href="https://gitter.im/mxcl/PromiseKit">Gitter chat channel</a> or on <a href="https://github.com/mxcl/PromiseKit/issues/new">our bug tracker</a>.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2019 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2019-01-15)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy â™ªâ™« v0.9.4</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
